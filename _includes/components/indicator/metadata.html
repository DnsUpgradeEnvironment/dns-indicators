<table class="table">
  {% for indicator_metadata in site.data.schema %}
    {%- assign metadata_label = indicator_metadata.name | translate_metadata_field -%}
    {% if indicator_metadata.field.scope == include.scope %}
      {% if site.hide_empty_metadata %}
        {% unless page.indicator[indicator_metadata.name] and page.indicator[indicator_metadata.name] != '' %}
          {% continue %}
        {% endunless %}
      {% endif %}

      {% assign var = 'doShow' %}
      {% if indicator_metadata.name contains "source_organisation_" or indicator_metadata.name contains "_year" or indicator_metadata.name == "national_indicator_available" or indicator_metadata.name == "national_geographical_coverage" %}
        {% assign var = 'dontShow' %}
        {% if indicator_metadata.name contains "short" or indicator_metadata.name contains "_logo" %}
          {% assign var = 'doShow' %}
        {% endif %}
      {% endif %}



      {% unless var == 'dontShow' or indicator_metadata.name contains "_url_text" or indicator_metadata.name contains "_link_text" %}
        <tr>
          <th scope="row">{{ metadata_label }} </th>
          <td>
            {% if indicator_metadata.name contains "_url" or indicator_metadata.name contains "_link" %}
              {% assign url_text_name = indicator_metadata.name | replace_first:'_url','_url_text'  %}
              {% assign url_text_name = url_text_name | replace_first:'_link','_link_text'  %}
              {% assign url_text = page.indicator[url_text_name] %}
              {% unless url_text %}
                {% assign url_text = 'Link' %}
              {% endunless %}

              {% if page.indicator[indicator_metadata.name] contains "http" or page.indicator[indicator_metadata.name] contains "mailto" %}
                <a href="{{ page.indicator[indicator_metadata.name] }}" target="_blank">
                  {{ url_text }} <span class="visuallyhidden">{{ page.t.general.opens_new_window }}</span>
                </a>
              {% endif %}

            {% elsif indicator_metadata.field.element == 'multiselect' %}
              {% for item in page.indicator[indicator_metadata.name] %}
                {{ item | t }}{% unless forloop.last %}, {% endunless %}
              {% endfor %}
            {% else %}
              {{ page.indicator[indicator_metadata.name] | markdownify }}
            {% endif %}
          </td>
        </tr>
      {% endunless %}

      {% if indicator_metadata.name contains "_year_" %}

        {% if indicator_metadata.name contains "status" %}

          {% if indicator_metadata.name contains "_a" %}
            {% assign status_a = page.indicator[indicator_metadata.name] | markdownify %}
          {% elsif indicator_metadata.name contains "_b" %}
            {% assign status_b = page.indicator[indicator_metadata.name] | markdownify %}
          {% elsif indicator_metadata.name contains "_c" %}
            {% assign status_c = page.indicator[indicator_metadata.name] | markdownify %}
          {% elsif indicator_metadata.name contains "_d" %}
            {% assign status_d = page.indicator[indicator_metadata.name] | markdownify %}
          {% endif %}

        {% else %}
          {% if indicator_metadata.name contains "_a" %}
            {% assign year_a = page.indicator[indicator_metadata.name] | markdownify %}
          {% elsif indicator_metadata.name contains "_b" %}
            {% assign year_b = page.indicator[indicator_metadata.name] | markdownify %}
          {% elsif indicator_metadata.name contains "_c" %}
            {% assign year_c = page.indicator[indicator_metadata.name] | markdownify %}
          {% elsif indicator_metadata.name contains "_d" %}
            {% assign year_d = page.indicator[indicator_metadata.name] | markdownify %}
          {% endif %}
        {% endif %}
      {% endif %}


      {% if indicator_metadata.name contains "_status" %}
        <tr>
          <th scope="row">{{ metadata_label }} </th>
          {% if year_d %}
            <td align="left" style="padding-left: 0px;padding-right: 0px;"><a href=" {{ site.baseurl }}{{ baseurl_folder }}/status/ "><img src="https://g205sdgs.github.io/sdg-indicators/public/Wettersymbole/left/{{ status_d }}.png" alt="d" class="responsiveWeather" title="y" style="border: transparent"/></a></td>
          {% endif %}
          {% if year_c %}
            <td align="left" style="padding-left: 0px;padding-right: 0px;"><a href=" {{ site.baseurl }}{{ baseurl_folder }}/status/ "><img src="https://g205sdgs.github.io/sdg-indicators/public/Wettersymbole/left/{{ status_c }}.png" alt="c" class="responsiveWeather" title="y" style="border: transparent"/></a></td>
          {% endif %}
          {% if year_b %}
            <td align="left" style="padding-left: 0px;padding-right: 0px;"><a href=" {{ site.baseurl }}{{ baseurl_folder }}/status/ "><img src="https://g205sdgs.github.io/sdg-indicators/public/Wettersymbole/left/{{ status_b }}.png" alt="b" class="responsiveWeather" title="y" style="border: transparent"/></a></td>
          {% endif %}
          {% if year_a %}
            <td align="left" style="padding-left: 0px;padding-right: 0px;"><a href=" {{ site.baseurl }}{{ baseurl_folder }}/status/ "><img src="https://g205sdgs.github.io/sdg-indicators/public/Wettersymbole/left/{{ status_a }}.png" alt="a" class="responsiveWeather" title="y" style="border: transparent"/></a></td>
          {% else %}
            <td align="left" style="margin-bottom: 15px;"><p>{{ alter }}</p></td>
          {% endif %}
        </tr>
      {% else %}
        <tr>
          {% if year_a %}
            <th scope="row" height="">{{ metadata_label }} </th>
          {% endif %}
          {% if year_d %}
            <td align="left" style="margin-bottom: 15px;"><p>{{ year_d }}</p></td>
          {% endif %}
          {% if year_c %}
            <td align="left" style="margin-bottom: 15px;"><p>{{ year_c }}</p></td>
          {% endif %}
          {% if year_b %}
            <td align="left" style="margin-bottom: 15px;"><p>{{ year_b }}</p></td>
          {% endif %}
          {% if year_a %}
            <td align="left" style="margin-bottom: 15px;"><p>{{ year_a }}</p></td>
          {% endif %}
        </tr>
      {% endif %}




    {% endif %}
  {% endfor %}
</table>
